"use strict";angular.module(window.APP.modules.main).service("userAPI",["$rootScope","$resource",function(a,b){var c=b("/api/:path/:_id",{path:"user",_id:"@_id"},{update:{method:"PUT"},count:{method:"GET",params:{_id:"count"}},getProfile:{method:"GET",params:{path:"profile",_id:void 0}},updateProfile:{method:"PUT",params:{path:"profile",_id:void 0}},changePassword:{method:"PUT",params:{path:"profile",_id:"changePassword"}}});return c.prototype.isMe=function(a){return this._id===(a._id||a)},c.prototype.canCreate=c.canCreate=function(){return a.AUTH.isAllowed({allows:{user:["post"]}})?!0:!1},c.prototype.canEdit=function(){return this.isProtected?!1:a.AUTH.isAllowed({allows:{user:["put"]}})?!0:!1},c.prototype.canDelete=function(){return this.isProtected?!1:this.isMe(a.USER)?!1:a.AUTH.isAllowed({allows:{user:["delete"]}})?!0:!1},c}]);