"use strict";angular.module(window.APP.modules.auth).controller("login",["$scope","$state","$stateParams","$filter","authAPI",function(a,b,c,d,e){a.auth={login:void 0,password:void 0},a.validationErrors=void 0,a.login=function(f){f.$valid&&e.login(a.auth,function(d){a.USER.login(d),c.redirectState&&"home"!==c.redirectState?c.params?b.go(c.redirectState,JSON.parse(c.params)):b.go(c.redirectState):b.go("home")},function(b){a.validationErrors=d("translate")("USERNAME_OR_PASSWORD_INCORRECT")})}}]).controller("signup",["$scope","$state","$filter","authAPI",function(a,b,c,d){a.auth={email:void 0,password:void 0},a.validationErrors={},a.terms='<a href="#">'+c("translate")("TERMS")+"</a>",a.policies='<a href="#">'+c("translate")("POLICIES")+"</a>",a.signup=function(c){c.$valid&&d.signup(a.auth,function(c){a.validationErrors.email=void 0,b.go("page-successful",{page:"signup"})},function(b){b.data.validationErrors&&(a.validationErrors=b.data.validationErrors)})}}]).controller("forgotPassword",["$scope","$state","$filter","authAPI",function(a,b,c,d){a.auth={email:null},a.validationErrors={},a.forgotPassword=function(c){c.$valid&&d.forgotPassword(a.auth,function(c){a.validationErrors.email=null,b.go("page-successful",{page:"forgot-password"})},function(b){b.data.validationErrors&&(a.validationErrors=b.data.validationErrors)})}}]).controller("resetPassword",["$scope","$state","$stateParams","$filter","authAPI",function(a,b,c,d,e){a.auth={token:c.tokenId,password:null,confirmPassword:null},a.validationErrors={},a.resetPassword=function(c){c.$valid&&e.resetPassword(a.auth,function(a){b.go("page-successful",{page:"reset-password"})},function(b){b.data.validationErrors&&(a.validationErrors=b.data.validationErrors)})}}]).controller("pageSuccessful",["$scope","$state","$stateParams","$filter",function(a,b,c,d){switch(c.page){case"signup":a.title="SIGN_UP_SUCCESS_TITLE",a.message="SIGN_UP_SUCCESS_MESSAGE";break;case"forgot-password":a.title="RESET_PASSWORD_REQUEST_SUCCESS_TITLE",a.message="RESET_PASSWORD_REQUEST_SUCCESS_MESSAGE";break;case"reset-password":a.title="RESET_PASSWORD_SUCCESS_TITLE",a.message="RESET_PASSWORD_SUCCESS_MESSAGE"}}]);