"use strict";angular.module(window.APP.modules.main).directive("siteMenubar",function(){return{restrict:"E",replace:!0,templateUrl:"/components/common/siteMenubar/view.html",controller:["$scope","$state","$filter","siteMenubar","settingAPI",function(a,b,c,d,e){function f(a,b){e.get(a,function(a){b&&b(a.value)})}a.menubar=[],a.$watch("USER._id",function(b){b?f({_id:"MENUBAR"},function(b){a.menubar=[].concat(b.main,b.settings),d.init()}):a.menubar=[]}),a.toggleMenubar=function(){var a=Breakpoints.current();"xs"===a.name&&d.toggle()},a.toggleSubmenu=function(a){$("body").hasClass("site-menubar-fold")||angular.element(a.currentTarget).parent(".site-menu-item").toggleClass("open")},a.activeItem=function(a){return a&&-1!==a.indexOf(b.current.name)}}]}});